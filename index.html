// Define words for each age group
const wordsByAge = {
    '4-6': ['CAT', 'DOG', 'SUN', 'MOON', 'TREE'],
    '7-9': ['APPLE', 'ORANGE', 'ELEPHANT', 'GIRAFFE', 'MONKEY'],
    '10-12': ['KANGAROO', 'DOLPHIN', 'PYRAMID', 'CONSTELLATION', 'ARCHAEOLOGY']
};

// Generate a random puzzle grid
function generatePuzzleGrid(words) {
    const gridSize = 10; // Define grid size (10x10)
    const grid = Array(gridSize).fill().map(() => Array(gridSize).fill('')); // Initialize empty grid

    // Insert words into grid
    words.forEach(word => {
        const wordLength = word.length;
        const startRow = Math.floor(Math.random() * (gridSize - wordLength));
        const startCol = Math.floor(Math.random() * (gridSize - wordLength));
        for (let i = 0; i < wordLength; i++) {
            grid[startRow][startCol + i] = word[i];
        }
    });

    // Fill remaining empty cells with random letters
    const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    for (let row = 0; row < gridSize; row++) {
        for (let col = 0; col < gridSize; col++) {
            if (!grid[row][col]) {
                grid[row][col] = alphabet[Math.floor(Math.random() * alphabet.length)];
            }
        }
    }

    return grid;
}

// Render the puzzle grid on the page
function renderPuzzleGrid(grid) {
    const puzzleContainer = document.getElementById('puzzle-container');
    puzzleContainer.innerHTML = ''; // Clear previous puzzle

    grid.forEach(row => {
        row.forEach(letter => {
            const cell = document.createElement('div');
            cell.className = 'letter-cell';
            cell.textContent = letter;
            puzzleContainer.appendChild(cell);
        });
    });
}

// Initialize the page with a default puzzle
function initialize() {
    const ageSelect = document.getElementById('age-select');
    const selectedAge = ageSelect.value;
    const words = wordsByAge[selectedAge];
    const grid = generatePuzzleGrid(words);
    renderPuzzleGrid(grid);
}

// Event Listeners
document.getElementById('age-select').addEventListener('change', initialize);
document.getElementById('refresh-btn').addEventListener('click', initialize);
document.getElementById('print-btn').addEventListener('click', () => window.print());

// Initialize on page load
window.onload = initialize;
